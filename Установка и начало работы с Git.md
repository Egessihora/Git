# Установка и начало работы с Git

### Оглавление:
1. [Установка Git на Windows](#Установка-git-на-windows)
2. [Первый запуск Git](#Первый-запуск-Git)

## Установка Git на Windows
Для того, чтобы начать работать с системой контроля версий Git ее необходимо предварительно установить.

Рассмотрим варианты установки этой СКВ под MS Windows.

Для установки Git под Windows необходимо предварительно скачать дистрибутив. 

Для этого перейдите на [официальную страницу](https://git-scm.com/downloads) 
и скачайте последнюю версию для Вашей системы.

[![1.png](https://i.postimg.cc/90v8895H/1.png)](https://postimg.cc/Wqwwth15)

Далее:

1. Запускаем установочный файл

(у меня в окне установки пункт "Only show new options", т.к. на компьютере уже установлен Git)


2. Нажимаем на кнопку **Next**, принимая этим лицензионное соглашение

   [![2.jpg](https://i.postimg.cc/1tdCz3ct/2.jpg)](https://postimg.cc/47zbLZ0k)
   

3. Выбираем компоненты, которые следует установить. Можно проставить все галочки. Но, если что-то
не проставили и ушли дальше, ничего страшного. Самое важное сразу проставлено.

[![3.jpg](https://i.postimg.cc/q78s6XfW/3.jpg)](https://postimg.cc/HJkcfMkt)


4. Далее необходимо выбрать текстовый редактор, который будет по умолчанию использоваться системой Git.

[![4.jpg](https://i.postimg.cc/6pL9gyCC/4.jpg)](https://postimg.cc/PCJs8f3q)

При выполнении некоторых команд, система Git запускает текстовый редактор. По умолчанию, это текстовый редактор Vim,
который достаточно сложен для обычного пользователя, поэтому желательно его заменить на что-то более дружественное,
например Notepad++, или любой удобный для вас редактор:

[![5-1.jpg](https://i.postimg.cc/ZnwRKvXy/5-1.jpg)](https://postimg.cc/D4bFx0v2)

После выбора нажимем кнопку **""Next""**


5. На следующем шаге предстоит выбрать название вашей главной ветки репозитория.

Дело в том, что с 1 октября 2020 года GitHub изменил название стандартной ветки с **master** на **main**. Но при этом в документации и материалах
главная ветка по-прежнему называется **master**.

И теперь вам надо выбрать:
* предоставить возможность Git самому назвать главную ветку по своему усмотрению (текущее название - **master**)
* самому прописать любое название ветки (рекомендовано **main**)

  [![6.jpg](https://i.postimg.cc/cHm3G2JT/6.jpg)](https://postimg.cc/1n8XpWwN)

  Поменять название ветки можно в любой момент и после установки с помощью команд Git.
  

6. Указываем способ использования Git

  [![7.jpg](https://i.postimg.cc/KjQvzyXp/7.jpg)](https://postimg.cc/CnBVPXxb)

  В этом окне доступны три возможных варианта:

* **Use Git from Git Bash only**
Переменная PATH не модифицируется и работа с Git возможна только через специализированную оболочку, которая называется Git Bash.

* **Use Git from the Windows Command Prompt**
В этом случае происходит минимальная модификация переменной окружения PATH, которая позволит работать с Git через командную стоку Windows.
Работа через Git Bash также возможна.

* **Use Git and optional Unix tools from the Windows Command Prompt**
В переменную PATH вносится значительное количество модификаций, которые позволят, в рамках командной строки Windows,
использовать как Git так и утилиты Unix, которые поставляются вместе с дистрибутивом Git.

Рекомендовано: **Use Git from the Windows Command Prompt**


7. Для связи с удалённым репозиторием могут использоваться защищённые SSH-соединения или HTTPS-соединения.
Для организации соединения по протоколу SSH необходимо иметь специальную программу, например OpenSSH.
При установке Git можно выбрать какой именно клиент будет использовать система Git:
* **Use bundled OpenSSH** - настроенный и протестированный клиент OpenSSH, который идет с дистрибутивом Git.
* **Use external OpenSSH** - установленый отдельно OpenSSH, который надо настроить собственноручно.

Желательным вариантом является первый:

[![8.jpg](https://i.postimg.cc/GpSNxLGn/8.jpg)](https://postimg.cc/SXCDypgg)


8. При HTTPS-соединении для шифрования данных используется протокол SSL/TLS. Для проверки сертификатов сервера по этому протоколу можно использовать
библиотеку OpenSSL или стандартные библиотеки Windows. Для большинства пользователей лучше выбрать **первый** вариант:

[![9.jpg](https://i.postimg.cc/pr0np63C/9.jpg)](https://postimg.cc/8f6CYtpf)


9. На этом шаге необходимо выбрать, как будут обрабатываться окончания строк. Эта опция важна, если при работе над проектом вы обмениваетесь кодом,
используя различные операционные системы, например, Windows, macOS или Linux.

В окне установщика доступны следующие варианты:

* **Checkout Windows-style, commit Unix – style line endings** - изменяет все окончания строк из Windows-стиля на Unix–стиль (этот стиль используют
операционные системы macOS, Linux и Unix) непосредственно перед фиксацией новой версии в Вашем репозитории, а когда происходит извлечение файлов,
всё происходит в обратном порядке.
* **Checkout as-is, commit Unix-style line endings** - все окончания строк будут изменены на Unix-стиль непосредственно перед фиксацией в репозитории,
но при извлечении файлов окончания строк останутся без изменений.
* **Checkout as-is, commit as–is** - при этом варианте Git не будет изменять окончания строк ни при фиксации изменений, ни при извлечении файлов.
Большинство разработчиков, использующих систему Git и сервис GitHub, принимают первый вариант в качестве совместной договоренности:

[![10.jpg](https://i.postimg.cc/dtLzDTym/10.jpg)](https://postimg.cc/gnbMTj4n)


10. Далее необходимо выбрать эмулятор для оболочки Git Bash. В окне установщика предложены следующие варианты:

* **Use MinTTY** - этот эмулятор поддерживает командную строку Linux, окно с переменными размерами, выделение непрямоугольной области и шрифт Unicode.
* **Use Windows' default console window** - используется стандартное окно консоли Windows.
Выбирайте более удобный для вас вариант:

[![11.jpg](https://i.postimg.cc/3rgZ1rH5/11.jpg)](https://postimg.cc/V5kML86D)


11. На следующем шаге можно изменить стандартное действие при выполнении команды **git pull**.
Обычно эта команда используется для загрузки изменений из удаленного репозитория и слияния с текущей веткой.
Для большинства пользователей, изменять этот параметр не нужно:

[![12.jpg](https://i.postimg.cc/j5WRTktP/12.jpg)](https://postimg.cc/wydCc2tj)


12. Если для подключения к удалённому репозиторию будет использоваться протокол HTTPS, то каждое подключение будет требовать ввода логина и пароля.
Система Git предлагает специальный инструмент **Git Credential Manager**, с помощью которого ваши учётные данные хранятся в защищённом хранилище,
которое привязано к вашей системной учетной записи. В этом режиме учётные данные хранятся на диске неограниченное время в зашифрованном виде.

Если вы хотите использовать этот инструмент, оставьте вариант по умолчанию:

[![13.jpg](https://i.postimg.cc/8zJ8jfqg/13.jpg)](https://postimg.cc/bZhV5rym)


13. На следующем шаге выберите **дополнительные опции**:

* **Enable file system caching** - включает опцию кэширования при работе с файлами, это может значительно повысить производительность.
* **Enable symbolic links** - позволяет использование [символических ссылок](https://ru.wikipedia.org/wiki/Символическая_ссылка).

[![14.jpg](https://i.postimg.cc/VLJZHvWf/14.jpg)](https://postimg.cc/Mv8YnWLN)


14. В зависимости от версии Git может быть предложено установить различные экспериментальные функции,
но стабильность их работы не гарантируется, поэтому, если вы не хотите выступать в роли исследователя, лучше воздержаться от их установки:

[![15.jpg](https://i.postimg.cc/q76CPfZC/15.jpg)](https://postimg.cc/4KZdc0GJ)

После нажатия кнопки **Install** начнётся копирование файлов. После завершения установки установите соответствующие флажки, 
чтобы посмотреть информацию о текущем выпуске Git или запустить оболочку Git Bash и нажмите кнопку **Finish**.

[![16.jpg](https://i.postimg.cc/VNg3PTrm/16.jpg)](https://postimg.cc/v11PW0tN)

Для проверки успешности установки откройте оболочку **Git Bush**, для этого в главном меню найдите папку **Git** и выберите **Git Bash**:

[![17.png](https://i.postimg.cc/6QfHg1bw/17.png)](https://postimg.cc/5HjqFpMk)

В появившейся консоли Git Bash введите команду ```git --version``` и нажмите **Enter**:

[![18.png](https://i.postimg.cc/NjhpMwWB/18.png)](https://postimg.cc/xcRKxBf4)

Если в ответ выводится версия программы, значит система Git успешно установлена на ваш компьютер! Поздравляю!!!

[:arrow_up:Оглавление](#Оглавление)
___
## Первый запуск Git
Теперь, когда Git установлен в вашей системе, самое время настроить среду для работы с Git под себя. Это нужно сделать только один раз - при обновлении версии Git настройки сохранятся. Но, при необходимости, вы можете поменять их в любой момент, выполнив те же команды снова.

1. Первое, что вам следует сделать после установки Git:

✅ указать ваше имя и адрес электронной почты. 
Это важно, потому что каждый коммит в Git содержит эту информацию, и она включена в коммиты, передаваемые вами, и не может быть далее изменена.

Откройте Git Bash и в командной строке введите:

```Git
git config --global user.name "Your name"
git config --global user.email example@mail.com
```
После каждой строки нажимайте Enter 🙂 Теперь каждое наше действие будет отмечено именем и почтой. Таким образом, пользователи всегда будут в курсе, кто отвечает за какие изменения - это вносит порядок.

Опять же, если указана опция **--global**, то эти настройки достаточно сделать только один раз, поскольку в этом случае Git будет использовать эти данные для всего, что вы делаете в этой системе. Если для каких-то отдельных проектов вы хотите указать другое имя или электронную почту, можно выполнить эту же команду без параметра --global в каталоге с нужным проектом.

Многие GUI-инструменты предлагают сделать это при первом запуске.

2. Если вы не до конца настроили систему для работы, в начале своего пути - не беда. Git очень хорошо умеет общаться и всегда подскажет что надо делать.
Внимательно читайте что он пишет! Git говорит на английском, пользуйтесь переводчиком, если надо, но со временем вы сами научитесь (в сфере IT английский язык везде).
Так что если вы запутались и не знаете что дальше делать, то Git поможет, например:
* Команда ```git --help``` - выводит общую документацию по git
* Если введем ```git log --help``` - он предоставит нам документацию по какой-то определенной команде (в данном случае это - log)
* Если вы вдруг сделали опечатку - система подскажет вам нужную команду
* После выполнения любой команды - отчитается о том, что вы натворили
* Также Git прогнозирует дальнейшие варианты развития событий и всегда направит куда двигаться дальше

3. Создание нового репозитория
___
Сразу хочу обратить ваше внимание на неформальные правила создания имён. Если Вы занимаетесь проектом (не просто пишете информацию, как я в некоторых репозиториях), то:
* используйте для названия папок и файлов проекта **латиницу**
* между словами не оставляйте пробел - используйте **нижнее подчёркивание**
* старайтесь не создавать слишком большие имена при этом должно быть примерно понятно содержимое файла или директории

*Пример имени*: директория проекта - **New_Project**, файл - **new_file.txt**
___
Git хранит свои файлы и историю прямо в папке проекта. **Чтобы создать новый репозиторий:**
* откройте терминал
* зайдите в папку вашего проекта
для этого:
  * пропишите вручную абсолютный (полный) путь до папки проекта
  * можно также перетащить папку проекта в терминал и Git сам распишет путь к этой папке
 
* выполните команду ```git init```
Это включит приложение в этой конкретной папке и создаст скрытую директорию .git, где будет храниться история репозитория и настройки.
В результате командная строка должна вернуть что-то вроде ```Initialized empty Git repository in Диск:/путь до файла/.git/```

[![1.png](https://i.postimg.cc/2847kbzj/1.png)](https://postimg.cc/ZC5djqBX)

✅ Это значит, что наш репозиторий был успешно создан, но пока что пуст. 

4. Теперь создайте в любом редакторе текстовый файл под названием new_file.txt и сохраните его в директории New_Project.
Также можно, находясь в директории New_Project нажать на ПКМ и выбрать создать > текстовый документ

[![2.png](https://i.postimg.cc/xdCF3WwJ/2.png)](https://postimg.cc/DS9g2Yyn)

**Определение состояния**

```git status``` - это еще одна важнейшая команда, которая показывает информацию о текущем состоянии репозитория: актуальна ли информация на нём, нет ли чего-то нового, что поменялось, и так далее. 

✅ После того, как мы внесли какие-либо изменения в локальном репозитории необходимо выполнить команду ```git status```.
После ввода команды на нашем свежесозданном репозитории должно вернуться:

[![3.png](https://i.postimg.cc/gkNQzTc2/3.png)](https://postimg.cc/hfQpMM7k)

Сообщение говорит о том, что:
* **On branch master** - вы находитесь на ветке master
* **No commits yet** - пока нет никаких коммитов
* **Untracked files** - есть неотслеживаемые файлы и отображается список этих файлов

Из всего сообщения нам важно только понять, что наш добавленный файл **new_file.txt** неотслеживаемый. Это значит, что файл новый и система ещё не знает, нужно ли следить за изменениями в файле или его можно просто игнорировать. 

Для того, чтобы начать отслеживать новый файл, нужно его специальным образом **объявить**. Как я говорила ранее, Git хорошо умеет общаться и в данном случае он дальше пишет:

```use "git add <file>..." to include in what will be committed```, что в переводе означает:

```используйте "git add <файл>...", чтобы включить в то, что будет зафиксировано```

И подводит итог :

```nothing added to commit but untracked files present (use "git add" to track)```

```ничего не добавлено для фиксации, но присутствуют неотслеживаемые файлы (используйте "git add" для отслеживания)```

Так как мы хотим добавить новый файл в промежуточную зону для дальнейшей фиксации, выполняем команду **git add**
Тут возможны варианты:
* для добавления конкретного(ых) файла(ов) прописываем:

```git add new_file.txt```

* но чаще всего используется команда, которая добавляет все изменения:

```git add .``` или ```git add all```  или ```git add -A``` (они все тождественны, кому как удобно)

После ввода команды просто произойдёт переход на следующую строку. Это значит, что всё прошло 🆗. 

Привыйкайте и не пугайтесь, в консоли часто - если всё хорошо, просто ничего не происходит кроме перехода на следующую строку. Это хороший знак)

5. Фиксация изменений

Проверим статус снова, на этот раз мы должны получить другой ответ:

[![4.png](https://i.postimg.cc/0yRv3FBz/4.png)](https://postimg.cc/4m5jHLZG)

В этот раз Git нам сообщает:

```Changes to be committed:

  (use "git rm --cached <file>..." to unstage)```

```Изменения, которые необходимо зафиксировать:

  (используйте "git rm --cached <файл>...", чтобы отменить загрузку)```

Но нам не надо отменять загрузку, а надо наоборот зафиксировать изменения.

Сообщение о состоянии также говорит нам о том, какие изменения относительно файла были проведены в области подготовки - в данном случае это новый файл ```new file:```, но файлы могут быть модифицированы или удалены.

✅ Для того, чтобы сделать фиксацию изменений, необходимо создать коммит. Он необходим для описания закоммиченных изменений. И здесь работает золотое правило всех комментариев в коде: «Максимально ясно, просто и содержательно обозначь написанное!»

Используем соответствующую команду в следующих вариантах:

* ```git commit``` откроет целое окно для создания приличного тектового коммита

[![5.png](https://i.postimg.cc/FFpCYgnC/5.png)](https://postimg.cc/jCW49NTy)

* Чаще всего используют команду ```git commit -m "Add some code"

Флажок -m задаст commit message - краткий комментарий.
___
Для оформления коммитов существуют негласные правила, которые облегчают взаимодействие для всех, кто работает над проектом:
1. Отделяйте заголовок от тела пустой строкой
2. Ограничивайте заголовок 50 символами
3. Пишите заголовок с заглавной буквы
4. Не ставьте точку в конце заголовка
5. Используйте повелительное наклонение в заголовке
6. Переходите на следующую строку в теле на 72 символах
7. В теле отвечайте на вопросы "что" и "почему", а не "как"

[Здесь](https://github.com/Egessihora/Git/blob/main/Хороший_коммит.txt) можно посмотреть пример оформления хорошего коммита (если говорить о больших текстовых).
___
Снова проверяем статус и в случае наличия пока только локального репозитория мы увидим следующее сообщение от Git:

[![6.png](https://i.postimg.cc/QtqrVbmb/6.png)](https://postimg.cc/7GbRWSpG)

в переводе: ```ничего не нужно фиксировать, рабочее дерево чистое```, это означает, что работа с добавлением изменений в СКВ Git закончена. На этом работа в локальном репозитории тоже закончена.

[:arrow_up:Оглавление](#Оглавление)
